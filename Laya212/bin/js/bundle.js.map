{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/script/GameUI.ts","../../src/GameConfig.ts","../../src/GameLayaExtend/EnumGameAssetFolder.ts","../../src/GameLayaExtend/EnumGameAssetLevel.ts","../../src/GameLayaExtend/EnumGamePaltformApp.ts","../../src/GameLayaExtend/EnumGamePaltformOS.ts","../../src/GameLayaExtend/EnumGameTextureExt.ts","../../src/GameLayaExtend/GameLayaURL.ts","../../src/GameLayaExtend/GameWebGLCompressedTexture.ts","../../src/GameLayaExtend/GameLayaExtend.ts","../../src/TestScene.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\nimport Dialog=Laya.Dialog;\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.test {\n    export class TestSceneUI extends Scene {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"test/TestScene\");\n        }\n    }\n    REG(\"ui.test.TestSceneUI\",TestSceneUI);\n}","import { ui } from \"./../ui/layaMaxUI\";\n/**\n * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联\n * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果\n * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。\n */\nexport default class GameUI extends ui.test.TestSceneUI {\n    constructor() {\n        super();\n\t\t\n        //添加3D场景\n        var scene: Laya.Scene3D = Laya.stage.addChild(new Laya.Scene3D()) as Laya.Scene3D;\n\n        //添加照相机\n        var camera: Laya.Camera = (scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;\n        camera.transform.translate(new Laya.Vector3(0, 3, 3));\n        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\n\n        //添加方向光\n        var directionLight: Laya.DirectionLight = scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\n        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));\n\n        //添加自定义模型\n        var box: Laya.MeshSprite3D = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1))) as Laya.MeshSprite3D;\n        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\n        var material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\n\t\tLaya.Texture2D.load(\"res/layabox.png\", Laya.Handler.create(null, function(tex:Laya.Texture2D) {\n\t\t\t\tmaterial.albedoTexture = tex;\n\t\t}));\n        box.meshRenderer.material = material;\n    }\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport GameUI from \"./script/GameUI\"\n/*\n* 游戏初始化配置;\n*/\nexport default class GameConfig{\n    static width:number=640;\n    static height:number=1136;\n    static scaleMode:string=\"fixedwidth\";\n    static screenMode:string=\"none\";\n    static alignV:string=\"top\";\n    static alignH:string=\"left\";\n    static startScene:any=\"test/TestScene.scene\";\n    static sceneRoot:string=\"\";\n    static debug:boolean=false;\n    static stat:boolean=true;\n    static physicsDebug:boolean=false;\n    static exportSceneToJson:boolean=true;\n    constructor(){}\n    static init(){\n        var reg: Function = Laya.ClassUtils.regClass;\n        reg(\"script/GameUI.ts\",GameUI);\n    }\n}\nGameConfig.init();","\r\n/** 平台资源目录 */\r\nexport enum EnumGameAssetFolder {\r\n    /** 默认图片格式， 清晰度高, (png,jpg) */\r\n    default_high = \"default_high\",\r\n    /** 默认图片格式， 清晰度中, (png,jpg) */\r\n    default_middle = \"default_middle\",\r\n    /** 默认图片格式， 清晰度低, (png,jpg) */\r\n    default_low = \"default_low\",\r\n\r\n\r\n    /** dds为主， 清晰度高, (png,jpg,dds) */\r\n    dds_high = \"dds_high\",\r\n    /** pvr为主， 清晰度中, (png,jpg,dds) */\r\n    dds_middle = \"dds_middle\",\r\n    /** pvr为主， 清晰度低, (png,jpg,dds) */\r\n    dds_low = \"dds_low\",\r\n\r\n\r\n\r\n    /** astc为主， 清晰度高, (png,jpg,astc) */\r\n    astc_high = \"astc_high\",\r\n    /** astc为主， 清晰度中, (png,jpg,astc) */\r\n    astc_middle = \"astc_middle\",\r\n    /** astc为主， 清晰度低, (png,jpg,astc) */\r\n    astc_low = \"astc_low\",\r\n\r\n\r\n    /** pvr为主， 清晰度高, (png,jpg,pvr) */\r\n    pvr_high = \"pvr_high\",\r\n    /** pvr为主， 清晰度中, (png,jpg,pvr) */\r\n    pvr_middle = \"pvr_middle\",\r\n    /** pvr为主， 清晰度低, (png,jpg,pvr) */\r\n    pvr_low = \"pvr_low\",\r\n\r\n\r\n    /** ktx为主， 清晰度高, (png,jpg,ktx) */\r\n    etc_high = \"etc_high\",\r\n    /** ktx为主， 清晰度中, (png,jpg,ktx) */\r\n    etc_middle = \"etc_middle\",\r\n    /** ktx为主， 清晰度低, (png,jpg,ktx) */\r\n    etc_low = \"etc_low\",\r\n\r\n\r\n    /** ios, astc为主， 清晰度高, (png,jpg,pvr,astc) */\r\n    ios_astc_high = \"ios_astc_high\",\r\n    /** ios, astc为主， 清晰度中, (png,jpg,pvr,astc) */\r\n    ios_astc_middle = \"ios_astc_middle\",\r\n    /** ios, astc为主， 清晰度低, (png,jpg,pvr,astc) */\r\n    ios_astc_low = \"ios_astc_low\",\r\n\r\n\r\n\r\n    /** android, astc为主， 清晰度高, (png,jpg,ktx,astc) */\r\n    android_astc_high = \"android_astc_high\",\r\n    /** android, astc为主， 清晰度中, (png,jpg,ktx,astc) */\r\n    android_astc_middle = \"android_astc_middle\",\r\n    /** android, astc为主， 清晰度低, (png,jpg,ktx,astc) */\r\n    android_astc_low = \"android_astc_low\",\r\n}","export enum EnumGameAssetLevel {\r\n    high = \"high\",\r\n    middle = \"middle\",\r\n    low = \"low\",\r\n}","/** 平台应用 */\r\nexport enum EnumGamePaltformApp\r\n{\r\n    Brower = \"Brower\",  // 浏览器\r\n    Mini = \"Mini\",    // 小游戏\r\n    App  = \"App\",     // app\r\n    Devtool = \"Devtool\"  // 开发工具\r\n}","/** 平台操作系统 */\r\nexport enum EnumGamePaltformOS\r\n{\r\n    windows = \"windows\", \r\n    mac = \"mac\",   \r\n    android = \"android\",\r\n    ios = \"ios\"\r\n}","export enum EnumGameTextureExt {\r\n\r\n    /** 默认图片格式， (png,jpg) */\r\n    defalut = \"defalut\",\r\n\r\n    /** dds为主， (png,jpg,dds) */\r\n    dds = \"dds\",\r\n\r\n    /** astc为主， (png,jpg,astc) */\r\n    astc = \"astc\",\r\n\r\n    /** pvr为主， (png,jpg,pvr) */\r\n    pvr = \"pvr\",\r\n\r\n    /** ktx为主， (png,jpg,ktx) */\r\n    etc = \"etc\",\r\n}","import { EnumGameAssetFolder } from \"./EnumGameAssetFolder\";\r\n\r\n\r\nexport class GameLayaURL {\r\n\r\n    /** 格式替换 */\r\n    static ext_replace: { [key: string]: string };\r\n\r\n    static SetBasePath(basePath: string, folder: EnumGameAssetFolder) {\r\n        Laya.URL.basePath = basePath + \"/\" + folder + \"/\";\r\n        // Laya.URL.basePath = basePath + \"/\";\r\n    }\r\n\r\n    /** 加载 ext_replace.json */\r\n    static AsyncLoadExtReplaceConfig(): Promise<void> {\r\n        return new Promise<void>((resolve) => {\r\n            this.LoadExtReplaceConfig(Laya.Handler.create(null, () => {\r\n                resolve();\r\n            }))\r\n        })\r\n    }\r\n\r\n    /** 加载 ext_replace.json */\r\n    static LoadExtReplaceConfig(complete: Handler) {\r\n        Laya.loader.load(\"asset_url_replace.json\", Laya.Handler.create(null, (json) => {\r\n            console.log(json);\r\n            this.ext_replace = json;\r\n            complete && complete.run();\r\n        }), null, Laya.Loader.JSON)\r\n    }\r\n\r\n    static InitCustomFormat() {\r\n        GameLayaURL.__src_customFormatExtReplace = <any>Laya.URL.customFormat;\r\n        Laya.URL.customFormatExtReplace = GameLayaURL.customFormatExtReplace;\r\n    }\r\n\r\n    private static __src_customFormatExtReplace: (url: String) => string;\r\n    /** 自定义URL格式化的方式。例如： customFormat = function(url:String):String{} */\r\n    static customFormatExtReplace(url: string): string {\r\n\r\n        var newUrl = url;\r\n        var ext2 = GameLayaURL.ext_replace[url];\r\n        if (ext2) {\r\n            // var ext: string = \".\" + Laya.Utils.getFileExtension(url);\r\n            // newUrl = newUrl.replace(ext, ext2);\r\n            newUrl = ext2\r\n        }\r\n\r\n        if (GameLayaURL.__src_customFormatExtReplace) {\r\n            newUrl = GameLayaURL.__src_customFormatExtReplace(newUrl);\r\n        }\r\n        console.log(\"【customFormat】url:\", url);\r\n        console.log(\"【customFormat】newUrl:\", newUrl);\r\n        return newUrl;\r\n    }\r\n}","/** webgl对压缩图片的支持 */\r\nexport class GameWebGLCompressedTexture\r\n{\r\n    \r\n    // WEBGL_compressed_texture_s3tc\r\n    // WEBGL_compressed_texture_s3tc_srgb\r\n    // WEBGL_compressed_texture_astc\r\n    // WEBGL_compressed_texture_etc\r\n    // WEBGL_compressed_texture_etc1\r\n    // WEBGL_compressed_texture_pvrtc\r\n    \r\n    /** 是否支持 dds */\r\n    static get s3tc(): boolean\r\n    {\r\n        return (<any>Laya).LayaGL.layaGPUInstance._compressedTextureS3tc != null;\r\n    }\r\n    \r\n    /** 是否支持 astc */\r\n    static get astc(): boolean\r\n    {\r\n        return (<any>Laya).LayaGL.layaGPUInstance._compressedTextureASTC != null;\r\n    }\r\n    \r\n    \r\n    /** 是否支持 pvr */\r\n    static get pvrtc(): boolean\r\n    {\r\n        return (<any>Laya).LayaGL.layaGPUInstance._compressedTexturePvrtc != null;\r\n    }\r\n    \r\n    /** 是否支持 etc */\r\n    static get etc(): boolean\r\n    {\r\n        return (<any>Laya).LayaGL.layaGPUInstance._compressedTextureETC != null;\r\n    }\r\n    \r\n    /** 是否支持 etc1 */\r\n    static get etc1(): boolean\r\n    {\r\n        return (<any>Laya).LayaGL.layaGPUInstance._compressedTextureEtc1 != null;\r\n    }\r\n}","import { EnumGameAssetFolder } from \"./EnumGameAssetFolder\";\r\nimport { EnumGameAssetLevel } from \"./EnumGameAssetLevel\";\r\nimport { EnumGamePaltformApp } from \"./EnumGamePaltformApp\";\r\nimport { EnumGamePaltformOS } from \"./EnumGamePaltformOS\";\r\nimport { EnumGameTextureExt } from \"./EnumGameTextureExt\";\r\nimport { GameLayaURL } from \"./GameLayaURL\";\r\nimport { GameWebGLCompressedTexture } from \"./GameWebGLCompressedTexture\";\r\n\r\nexport class GameLayaExtend {\r\n    /** 平台应用 */\r\n    static PaltformApp: EnumGamePaltformApp;\r\n    /** 平台操作系统 */\r\n    static PaltformOS: EnumGamePaltformOS;\r\n    /** 平台资源目录 */\r\n    static AssetFolder: EnumGameAssetFolder;\r\n\r\n    static Init() {\r\n        window['GameWebGLCompressedTexture'] = GameWebGLCompressedTexture;\r\n        window['GameLayaURL'] = GameLayaURL;\r\n        window['GameLayaExtend'] = GameLayaExtend;\r\n\r\n\r\n        this.SetPaltformOS();\r\n        this.SetPaltformApp();\r\n        this.SetAssetFolder();\r\n    }\r\n\r\n    /** 是否是本地测试 */\r\n    private static _isLocal;\r\n    static get isLocal() {\r\n        if (this._isLocal === undefined) {\r\n            if (window['wx'] || window['conch']) {\r\n                this._isLocal = false;\r\n            }\r\n            else {\r\n                if (window && window.location && window.location.href) {\r\n                    this._isLocal = window.location.href.startsWith(\"file:\") || window.location.host.startsWith(\"192\");\r\n                }\r\n                else {\r\n\r\n                    this._isLocal = false;\r\n                }\r\n            }\r\n        }\r\n        return this._isLocal;\r\n    }\r\n\r\n\r\n    private static SetPaltformOS() {\r\n\r\n        var os = EnumGamePaltformOS.windows;\r\n        if (Laya.Browser.onIOS) {\r\n            os = EnumGamePaltformOS.ios;\r\n        }\r\n        else if (Laya.Browser.onAndroid) {\r\n            os = EnumGamePaltformOS.android;\r\n        }\r\n        else if (Laya.Browser.onMac) {\r\n            os = EnumGamePaltformOS.mac;\r\n        }\r\n\r\n        if (Laya.Browser.window && Laya.Browser.window.navigator) {\r\n            if (Laya.Browser.window.navigator.platform == \"devtools\") {\r\n                os = EnumGamePaltformOS.windows;\r\n            }\r\n        }\r\n\r\n        this.PaltformOS = os;\r\n    }\r\n\r\n    private static SetPaltformApp() {\r\n        var app = EnumGamePaltformApp.Brower;\r\n        if (Laya.Browser._isMiniGame) {\r\n            app = EnumGamePaltformApp.Mini;\r\n        }\r\n        else if ((window as any).conch) {\r\n            app = EnumGamePaltformApp.App;\r\n        }\r\n\r\n\r\n        if (Laya.Browser.window && Laya.Browser.window.navigator) {\r\n            if (Laya.Browser.window.navigator.platform == \"devtools\") {\r\n                app = EnumGamePaltformApp.Devtool;\r\n            }\r\n        }\r\n\r\n        this.PaltformApp = app;\r\n    }\r\n\r\n    private static SetAssetFolder() {\r\n        let folder = EnumGameAssetFolder.default_high;\r\n\r\n        let os = \"pc\";\r\n        let ext = EnumGameTextureExt.defalut;\r\n        let level = EnumGameAssetLevel.high;\r\n\r\n        switch (this.PaltformOS) {\r\n            case EnumGamePaltformOS.windows:\r\n            case EnumGamePaltformOS.mac:\r\n                os = \"pc\";\r\n                break;\r\n            default:\r\n                os = this.PaltformOS;\r\n                break;\r\n        }\r\n\r\n        // 选择文件格式\r\n        if (GameWebGLCompressedTexture.astc) {\r\n            ext = EnumGameTextureExt.astc;\r\n        }\r\n        else if (GameWebGLCompressedTexture.etc1) {\r\n            ext = EnumGameTextureExt.etc;\r\n        }\r\n        else if (GameWebGLCompressedTexture.pvrtc) {\r\n            ext = EnumGameTextureExt.pvr;\r\n        }\r\n        else if (GameWebGLCompressedTexture.s3tc) {\r\n            ext = EnumGameTextureExt.dds;\r\n        }\r\n\r\n        // 选择清晰度\r\n        switch (this.PaltformApp) {\r\n            case EnumGamePaltformApp.Mini:\r\n            case EnumGamePaltformApp.Devtool:\r\n                level = EnumGameAssetLevel.low;\r\n                break;\r\n            case EnumGamePaltformApp.App:\r\n                level = EnumGameAssetLevel.high;\r\n                break;\r\n            case EnumGamePaltformApp.Brower:\r\n                if (Laya.Browser.onMobile) {\r\n                    level = EnumGameAssetLevel.low;\r\n                }\r\n                else {\r\n                    level = EnumGameAssetLevel.high;\r\n                }\r\n                break;\r\n        }\r\n\r\n        // 选择目录\r\n        folder = `${ext}_${level}` as EnumGameAssetFolder;\r\n\r\n        // 如果支持astc并且是ios、android，就用最优资源压缩方案\r\n        // if (GameWebGLCompressedTexture.astc) {\r\n        //     switch (this.PaltformOS) {\r\n        //         case EnumGamePaltformOS.ios:\r\n        //         case EnumGamePaltformOS.android:\r\n        //             folder = `${os}_${ext}_${level}` as EnumGameAssetFolder;\r\n        //             break;\r\n        //     }\r\n        // }\r\n\r\n        this.AssetFolder = folder;\r\n    }\r\n\r\n\r\n}","import Vector3 = Laya.Vector3;\r\nexport class TestScene extends Laya.Scene3D\r\n{\r\n    static create(): TestScene\r\n    {\r\n        let node = new TestScene();\r\n        node.name = \"WarScene\";\r\n\r\n        let scene = node;\r\n        scene.init()\r\n        return scene;\r\n    }\r\n     /** 场景根节点 */\r\n     sceneRoot:Laya.Sprite3D;\r\n\r\n     /** 地图节点 */\r\n     mapNode: Laya.Sprite3D;\r\n \r\n     /** 摄像机 */\r\n     camera:Laya.Camera;\r\n     cameraNode:Laya.Sprite3D;\r\n \r\n     /** 屏幕空间层 */\r\n     screen3DLayer:Laya.Sprite3D;\r\n \r\n     /** 灯光 */\r\n     directionLight:Laya.DirectionLight;\r\n \r\n     \r\n     init()\r\n     {\r\n         window['warScene'] = this;\r\n \r\n         this.initCamera();\r\n \r\n         // var box = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(10, 5, 1))\r\n         // box.transform.localPositionZ = -10;\r\n         // this.addChild(box);\r\n     }\r\n \r\n     \r\n     initCamera()\r\n     {\r\n         var cameraRootNode: Laya.Sprite3D = new Laya.Sprite3D(\"CameraRoot\");\r\n         var cameraRotationXNode: Laya.Sprite3D = new Laya.Sprite3D(\"CameraRotationX\");\r\n         var camera:Laya.Camera = new Laya.Camera(0, 0.1, 1000);\r\n         var screenLayer: Laya.Sprite3D = new Laya.Sprite3D(\"ScreenLayer\");\r\n \r\n         cameraRootNode.addChild(cameraRotationXNode);\r\n         cameraRotationXNode.addChild(camera);\r\n         camera.addChild(screenLayer);\r\n \r\n         cameraRotationXNode.transform.localRotationEulerX = -20;\r\n         camera.transform.localPosition = new Vector3(0, 0, 10);\r\n \r\n         camera.clearColor = new Laya.Vector4(0.2, 0.5, 0.8, 1);\r\n         // camera.clearColor = new Laya.Vector4(0.3, 0.3, 0.3, 1);\r\n         camera.orthographic = true;\r\n         // camera.orthographicVerticalSize = 5.2;\r\n         camera.orthographicVerticalSize = 2.6;\r\n         camera.farPlane = 2000;\r\n         \r\n \r\n         \r\n         this.camera = camera;\r\n         this.cameraNode = cameraRootNode;\r\n         this.screen3DLayer = screenLayer;\r\n \r\n         \r\n         //创建平行光\r\n         let directionLight: Laya.DirectionLight =<Laya.DirectionLight> this.addChild(new Laya.DirectionLight());\r\n         directionLight.color = new Laya.Vector3(1, 1.0, 1.0);\r\n         this.lightRotaitonSrc= directionLight.transform.localRotationEuler = new Laya.Vector3(-45, 80, 0);\r\n         this.directionLight = directionLight;\r\n         directionLight.transform.rotationEuler = new Laya.Vector3(-20, 20, 0); \r\n         \r\n \r\n         this.addChild(cameraRootNode);\r\n         this.addChild(directionLight);\r\n \r\n         // this.lightRotaitonStart();\r\n     }\r\n\r\n     rotationTarget: Laya.Sprite3D;\r\n     RotationTarget(rotationTarget: Laya.Sprite3D)\r\n     {\r\n         this.rotationTarget = rotationTarget;\r\n         this.lightRotaitonStop();\r\n         this.lightRotaitonStart();\r\n     }\r\n \r\n     lightRotaitonSrc:Vector3;\r\n     lightRotaiton:Vector3;\r\n     lightRotaitonStart()\r\n     {\r\n         this.lightRotaiton = this.rotationTarget.transform.localRotationEuler;\r\n         Laya.timer.frameLoop(1, this, this.onLightRotaitonLoop)\r\n     }\r\n \r\n     \r\n     lightRotaitonStop()\r\n     {\r\n         this.rotationTarget.transform.localRotationEuler = this.lightRotaitonSrc;\r\n         Laya.timer.clear(this, this.onLightRotaitonLoop)\r\n     }\r\n     \r\n     onLightRotaitonLoop()\r\n     {\r\n         this.lightRotaiton.x += 1;\r\n         this.lightRotaiton.y += 2;\r\n         this.lightRotaiton.z += 2;\r\n \r\n         this.rotationTarget.transform.localRotationEuler = this.lightRotaiton;\r\n     }\r\n}","import GameConfig from \"./GameConfig\";\nimport { EnumGameAssetFolder } from \"./GameLayaExtend/EnumGameAssetFolder\";\nimport { GameLayaExtend } from \"./GameLayaExtend/GameLayaExtend\";\nimport { GameLayaURL } from \"./GameLayaExtend/GameLayaURL\";\nimport { TestScene } from \"./TestScene\";\nimport Vector3 = Laya.Vector3;\nclass Main {\n\tscene: TestScene;\n\tconstructor() {\n\n\n\t\t//根据IDE设置初始化引擎\t\t\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\n\t\tLaya.stage.name = \"stage\";\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\n\t\tLaya.stage.alignV = GameConfig.alignV;\n\t\tLaya.stage.alignH = GameConfig.alignH;\n\t\t//兼容微信不支持加载scene后缀场景\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\n\n\t\tif (Laya.MiniAdpter) Laya.MiniAdpter.autoCacheFile = false;\n\n\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\n\t\tif (GameConfig.stat) Laya.Stat.show();\n\t\tLaya.alertGlobalError(true);\n\n\n\t\tthis.scene = TestScene.create();\n\t\tLaya.stage.addChild(this.scene);\n\n\t\tvar box = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createQuad(2, 2), \"box\");\n\t\tlet material = new Laya.UnlitMaterial();\n\t\tmaterial.renderMode = Laya.UnlitMaterial.RENDERMODE_TRANSPARENT\n\t\tbox.meshRenderer.material = material;\n\t\t// this.scene.addChild(box);\n\n\n\n\n\t\tvar gl = Laya['LayaGL'].instance;\n\t\tvar availableExtensions: string[] = gl.getSupportedExtensions();\n\t\tvar str = availableExtensions.join('\\n');\n\t\tstr += \"\\nLaya.WebGL._isWebGL2=\" + Laya.WebGL._isWebGL2 + \"\\n\";\n\n\n\t\tvar availableExtensions = gl.getSupportedExtensions();\n\t\tfor (var i = 0; i < availableExtensions.length; i++) {\n\t\t\tif (availableExtensions[i].indexOf('texture') >= 0\n\t\t\t\t&& availableExtensions[i].indexOf('compressed') >= 0) {\n\t\t\t\t// show in console\n\t\t\t\tconsole.log(availableExtensions[i]);\n\t\t\t\tstr += availableExtensions[i] + \"\\n\";\n\t\t\t\tvar tc = gl.getExtension(availableExtensions[i]);\n\t\t\t\tfor (var key in tc) {\n\t\t\t\t\tvar itemStr = key + \"=0x\" + tc[key].toString(16) + \"(\" + tc[key] + \")\\n\";\n\t\t\t\t\tstr += itemStr;\n\t\t\t\t\tconsole.log(itemStr);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\n\t\tvar sp = new Laya.Sprite();\n\t\tsp.name = \"ZFSprite\";\n\t\twindow['sp'] = sp;\n\t\t// Laya.stage.addChild(sp);\n\n\t\tvar txt = new Laya.TextArea();\n\t\ttxt.name = \"ZFTextArea\";\n\t\ttxt.text = str;\n\t\ttxt.width = Laya.stage.width - 40;\n\t\ttxt.height = Laya.stage.height - 40;\n\t\ttxt.x = 20;\n\t\ttxt.y = 20;\n\t\ttxt.color = \"#ff0000\";\n\t\tLaya.stage.addChild(txt);\n\n\n\n\n\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\n\t\t// Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\n\n\t\tGameLayaExtend.Init();\n\n\t\t// GameLayaExtend.AssetFolder = EnumGameAssetFolder.dds_high;\n\t\t// GameLayaExtend.AssetFolder = EnumGameAssetFolder.dds_middle;\n\t\t// GameLayaExtend.AssetFolder = EnumGameAssetFolder.dds_low;\n\n\t\t// GameLayaExtend.AssetFolder = EnumGameAssetFolder.default_high;\n\t\t// GameLayaExtend.AssetFolder = EnumGameAssetFolder.default_middle;\n\t\t// GameLayaExtend.AssetFolder = EnumGameAssetFolder.default_low;\n\t\t// GameLayaExtend.AssetFolder = EnumGameAssetFolder.pvr_high;\n\t\t// if (!window['wx']) alert(GameLayaExtend.AssetFolder)\n\t\t// GameLayaURL.SetBasePath(\"http://192.168.15.39:8901/asset_platform\", GameLayaExtend.AssetFolder);\n\t\tGameLayaURL.LoadExtReplaceConfig(Laya.Handler.create(null, () => {\n\t\t\tGameLayaURL.InitCustomFormat();\n\n\t\t\t// Laya.loader.load(\"6.png\", Laya.Handler.create(null, (tex: Laya.Texture2D) => {\n\t\t\t// \tmaterial.albedoTexture = tex;\n\t\t\t// }));\n\n\n\t\t\tLaya.loader.create(\"res3d/Conventional/Quad.lh\", Laya.Handler.create(null, (sprite3D: Laya.Sprite3D) => {\n\t\t\t\twindow['sprite3D'] = sprite3D;\n\t\t\t\tsprite3D.transform.localRotationEulerY = 180;\n\t\t\t\t// this.scene.RotationTarget(sprite3D);\n\t\t\t\tthis.scene.addChild(sprite3D);\n\t\t\t}))\n\t\t}));\n\n\n\t\t// this.scene.RotationTarget(box);\n\n\n\t\t// sp.loadImage(\"http://192.168.15.39:8901/bin/6.png\");\n\n\n\t\twindow['renderNum'] = 0;\n\n\n\t}\n\n\tonVersionLoaded(): void {\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\n\t}\n\n\tonConfigLoaded(): void {\n\t\t//加载IDE指定的场景\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\n\t}\n\n\n}\n\nfunction RunMain() {\n\twindow['zf_texture_ps'] = `\n/*\n\ttexture和fillrect使用的。\n*/\n#if defined(GL_FRAGMENT_PRECISION_HIGH)// 原来的写法会被我们自己的解析流程处理，而我们的解析是不认内置宏的，导致被删掉，所以改成 if defined 了\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\nuniform sampler2D texture;\nvarying vec2 cliped;\n\n#ifdef BLUR_FILTER\nuniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoordAlpha.xy-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //每个像素      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO 纹理坐标的固定偏移应该在vs中处理\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}\n#endif\n\n#ifdef COLOR_FILTER\nuniform vec4 colorAlpha;\nuniform mat4 colorMat;\n#endif\n\n#ifdef GLOW_FILTER\nuniform vec4 u_color;\nuniform vec4 u_blurInfo1;\nuniform vec4 u_blurInfo2;\n#endif\n\n#ifdef COLOR_ADD\nuniform vec4 colorAdd;\n#endif\n\n#ifdef FILLTEXTURE\t\nuniform vec4 u_TexRange;//startu,startv,urange, vrange\n#endif\nvoid main() {\n\tif(cliped.x<0.) discard;\n\tif(cliped.x>1.) discard;\n\tif(cliped.y<0.) discard;\n\tif(cliped.y>1.) discard;\n\t\n#ifdef FILLTEXTURE\t\n   vec4 color= texture2D(texture, fract(v_texcoordAlpha.xy)*u_TexRange.zw + u_TexRange.xy);\n#else\n   vec4 color= texture2D(texture, v_texcoordAlpha.xy);\n#endif\n\n   if(v_useTex<=0.)color = vec4(1.,1.,1.,1.);\n   color.a*=v_color.w;\n   //color.rgb*=v_color.w;\n   color.rgb*=v_color.rgb;\n   //    color.rgba = vec4(color.a, color.a, color.a, color.r);\n   gl_FragColor=color;\n   \n   #ifdef COLOR_ADD\n\tgl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\n\tgl_FragColor.xyz *= colorAdd.a;\n   #endif\n   \n   #ifdef BLUR_FILTER\n\tgl_FragColor =   blur();\n\tgl_FragColor.w*=v_color.w;   \n   #endif\n   \n   #ifdef COLOR_FILTER\n\tmat4 alphaMat =colorMat;\n\n\talphaMat[0][3] *= gl_FragColor.a;\n\talphaMat[1][3] *= gl_FragColor.a;\n\talphaMat[2][3] *= gl_FragColor.a;\n\n\tgl_FragColor = gl_FragColor * alphaMat;\n\tgl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n   #endif\n   \n   #ifdef GLOW_FILTER\n\tconst float c_IterationTime = 10.0;\n\tfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\n\tvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n\tvec2 vec2FilterDir = vec2(-(u_blurInfo1.z)/u_blurInfo2.x,-(u_blurInfo1.w)/u_blurInfo2.y);\n\tvec2 vec2FilterOff = vec2(u_blurInfo1.x/u_blurInfo2.x/c_IterationTime * 2.0,u_blurInfo1.y/u_blurInfo2.y/c_IterationTime * 2.0);\n\tfloat maxNum = u_blurInfo1.x * u_blurInfo1.y;\n\tvec2 vec2Off = vec2(0.0,0.0);\n\tfloat floatOff = c_IterationTime/2.0;\n\tfor(float i = 0.0;i<=c_IterationTime; ++i){\n\t\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\t\tvec4Color += texture2D(texture, v_texcoordAlpha.xy + vec2FilterDir + vec2Off)/floatIterationTotalTime;\n\t\t}\n\t}\n\tgl_FragColor = vec4(u_color.rgb,vec4Color.a * u_blurInfo2.z);\n\tgl_FragColor.rgb *= gl_FragColor.a;   \n   #endif\n   \n}`;\n\n\n\t//激活启动类\n\tnew Main();\n\n}\n\nRunMain();"],"names":[],"mappings":"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"}